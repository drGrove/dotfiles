(function(){function b(d){return(typeof d=="function")?d:function(){}}function c(e,d){return((e==d)?0:((e>d)?1:-1))}const a=2000;$(document).ready(function(){var d=$("#form-query");Stats.list(function(e){console.log(e);d.jsTemplate({addon:e})});d.submit(function(){var f={};$(this).serializeArray().forEach(function(j,h){if(j.value){f[j.name]=/^\d+$/.test(j.value)?parseInt(j.value):j.value}});console.log(f);var e=0;function g(h){console.log("process",h);ChromeWebstore.search(h,function(i){console.log({results:i});var j;if(i.length>0&&h.index<a&&!i.some(function(k,l){return(k.uid==h.uid)&&(j=$.extend({},k,{rank:h.index+l}))})){g($.extend({},h,{index:h.index+i.length}))}else{if(j){$("#result").jsTemplate(j);console.dir(j)}else{$("#result").jsTemplate({});console.log("not found")}}})}g(f);return false})});$(window).load(function(){setTimeout(function(){function e(){try{google.load("visualization","1",{callback:function(){vizualizationApiLoaded=true},packages:["corechart","geomap"]})}catch(f){setTimeout(arguments.callee,100)}}var d=$("<script>").attr("src","https://www.google.com/jsapi").appendTo($("head"));e()},0)})})();