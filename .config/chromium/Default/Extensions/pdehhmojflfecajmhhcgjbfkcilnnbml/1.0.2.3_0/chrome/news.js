var news_list=localStorage["sf:news"]||[{id:"promo",url:"http://s.extensionfactory.com/promo-wd/",content:"Advertise your extension on a free, not commercial banner exchange network"},{id:"webstore",url:"http://s.extensionfactory.com/webstore-wd/",content:"Web Store extension Stats and Charts. All extensions!"}];if(document.addEventListener){function domready(){document.removeEventListener("DOMContentLoaded",domready,false);ready()}document.addEventListener("DOMContentLoaded",domready,false)}function removeClass(a,b){a.setAttribute("class",a.getAttribute("class").replace(b,""))}const ITEMREAD="newsread:";function closeNews(){if(!confirm("I have read this news. Don't show it anymore!")){return}var b=this.parentNode;var a=b.parentNode;localStorage[ITEMREAD+b.dataset.newsId]=true;a.removeChild(b);if(a.childElementCount==2){a.parentNode.removeChild(a)}}function news(){var e=document.querySelector("#news > ul");var g=e.querySelector(".template");if(!news_list.length){return}var c=0;for(var d=0;d<news_list.length;d++){var h=news_list[d];if(localStorage[ITEMREAD+h.id]){continue}c++;var f=g.cloneNode(true);removeClass(f,"template");var b=f.querySelector("a");f.dataset.newsId=h.id;b.setAttribute("href",h.url);b.innerHTML=h.content;f.querySelector(".close-news").addEventListener("click",closeNews);e.appendChild(f)}if(c>0){removeClass(e.parentNode,"hidden")}}function ready(){news()};